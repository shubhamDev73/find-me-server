<!DOCTYPE html>
<html lang="en" dir="ltr">
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<h1>Documentation</h1>
		<h2>Root node: /api/</h2>
		<ul>
			<h3>Authorization end-points. All are POST requests.</h3>
			<li>/register/ : to register. data: username=username&password=password. returns {"token"}</li>
			<li>/login/ : to login. data: username=username&password=password. returns {"token"}</li>
		</ul>
		<ul>
			<h3>User end-points. Require "Authorization: Bearer &lt;auth-token&gt;" as header. Retrieve are GET requests, update are POST requests.</h3>
			<li>/logout/ : to logout.</li>
			<li>/me/ : retrieve information about me. {"nick", "avatar" (with mood), "avatar-base" (without mood), "personality", "interests", "mood"}.</li>
			<li>/me/interests/ : retrieve information about my interests. [ {"name", "amount", "answers": [ {"question", "answer"} ] } ].</li>
			<li>/me/interests/update/ : update my interests. data: interests=1,3,4&amounts=1,3,2 or interests=1,2&remove</li>
			<li>/me/interests/&lt;interest-id&gt;/update/ : update answers about my interest. data: question=&lt;question-id&gt;&answer=answer%20text</li>
			<li>/me/avatar/ : retrieve information about my avatar. {"url", "name", "mood", "base", "variants": [{"id", "mood", "url"}, {},..] }.</li>
			<li>/me/avatar/update/ : update my avatar. data: id=1</li>
			<li>/interests/ : retrieve all interests. [ {"id", "name"}, {},..].</li>
			<li>/interests/&lt;interest-id&gt;/ : retrieve all data for this interest id. {"name", "questions": [ {"id", "text"}, {},..]}.</li>
			<li>/avatars/ : retrieve all avatars. [ {"id", "name", "url"}, {},..].</li>
			<li>/avatars/&lt;interest-id&gt;/ : retrieve all variants for this avatar id. [{"id", "mood", "url"}, {},..].</li>
			<li>/find/ : retrieve all users I can find. {"views-remaining", "users": [{"id", "avatar", "mood", "personality"}, {},..] }.</li>
			<li>/find/view/ : (POST) view a user. data: id=1. returns same data as /me/. returns error if max views exceeded.</li>
			<li>/find/request/ : (POST) request a connection from this user. returns error if not viewed or already requested.</li>
			<li>/requests/ : retrieve all users who have requested for my connection. [ {"id", "avatar"}, {},..].</li>
			<li>/requests/accept/ : (POST) accept a request. date: id=1. returns an error if request already accepted.</li>
			<li>/found/ : retrieve all users connected with me. [ {"id", "nick", "avatar", "retained"}, {},..].</li>
			<li>/found/retain/ : (POST) retain a connected user. data: id=1.</li>
		</ul>
		<h3>All response are in json format and contain "error" field if an error occured, otherwise contain the data.</h3>
		<h3>Auth token may expire due to security reasons. If this happens, ask user to login again.</h3>
	</body>
</html>
